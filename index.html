<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏° LINE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        body { font-family: 'Kanit', sans-serif; background-color: #F3F4F6; }
        .select-anim { animation: pulse 0.2s ease-in-out; }
        @keyframes pulse { 0%{transform:scale(1)}50%{transform:scale(0.97)}100%{transform:scale(1)} }
        .menu-selected {
            background-color: #DCFCE7 !important;
            border-color: #16A34A !important;
            box-shadow: 0 4px 6px -1px rgba(22,163,74,.3);
        }
    </style>
</head>

<body class="text-gray-700 pb-32">

<header class="bg-[#06C755] text-white p-6 rounded-b-[2rem] shadow-lg sticky top-0 z-20">
    <div class="flex justify-between items-center max-w-lg mx-auto">
        <div>
            <h1 class="text-2xl font-bold">üç± ‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤52</h1>
            <p class="text-green-100 text-sm">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</p>
        </div>
        <i class="fab fa-line text-4xl"></i>
    </div>
</header>

<div class="max-w-lg mx-auto px-4 mt-6">

    <h2 class="text-lg font-bold mb-3">STEP 1 ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π</h2>
    <div id="menu-grid" class="grid gap-3"></div>

    <div id="meat-section" class="hidden mt-6 bg-white p-5 rounded-xl">
        <h3 class="font-bold mb-3">ü•© ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå</h3>
        <div class="grid grid-cols-3 gap-3">
            <label><input type="radio" name="meat" value="‡∏™‡∏±‡∏ô‡∏Ñ‡∏≠"> ‡∏™‡∏±‡∏ô‡∏Ñ‡∏≠</label>
            <label><input type="radio" name="meat" value="‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö"> ‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö</label>
            <label><input type="radio" name="meat" value="‡∏´‡∏°‡∏π‡πÄ‡∏î‡πâ‡∏á"> ‡∏´‡∏°‡∏π‡πÄ‡∏î‡πâ‡∏á</label>
        </div>
    </div>

    <div class="mt-6">
        <label class="flex gap-2">
            <input type="checkbox" id="opt-special"> ‡∏û‡∏¥‡πÄ‡∏®‡∏© +10
        </label>
        <label class="flex gap-2">
            <input type="checkbox" id="opt-kaikhon"> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏Ç‡πà‡∏Ç‡πâ‡∏ô +10
        </label>
        <label class="flex gap-2">
            <input type="checkbox" id="opt-kaidao"> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏Ç‡πà‡∏î‡∏≤‡∏ß +10
        </label>
    </div>

    <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á -->
    <div class="mt-8">
        <h2 class="font-bold mb-2">STEP 3 ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á</h2>
        <div class="bg-white p-4 rounded-xl space-y-3">

            <!-- ‚úÖ ‡∏à‡∏≥‡∏Å‡∏±‡∏î 10 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ -->
            <input
                type="text"
                id="user-name"
                maxlength="10"
                class="w-full border px-3 py-2 rounded"
                placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 10 ‡∏ï‡∏±‡∏ß)">

            <input
                type="text"
                id="user-note"
                class="w-full border px-3 py-2 rounded"
                placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)">
        </div>
    </div>
</div>

<div class="fixed bottom-0 left-0 right-0 bg-white p-4 border-t">
    <div class="max-w-lg mx-auto flex justify-between items-center">
        <div>
            <p class="text-sm">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°</p>
            <p id="total-price" class="text-2xl font-bold text-green-600">0 ‡∏ø</p>
        </div>
        <button id="btn-submit" onclick="submitOrderToLine()"
            class="bg-[#06C755] text-white px-6 py-3 rounded-xl font-bold">
            ‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ LINE
        </button>
    </div>
</div>

<script>
const menuItems = [
    {id:1,name:"‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏ß‡∏∏‡πâ‡∏ô‡πÄ‡∏™‡πâ‡∏ô",price:55,reqMeat:true},
    {id:2,name:"‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö",price:50,reqMeat:false},
    {id:3,name:"‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Ç‡πà‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏ß‡∏°‡πâ‡∏≤",price:60,reqMeat:false},
];

let state = { menuId:null, meat:null };

const menuGrid = document.getElementById('menu-grid');
menuItems.forEach(m=>{
    const d=document.createElement('div');
    d.className="bg-white p-3 rounded cursor-pointer border";
    d.innerText=`${m.name} ${m.price}.-`;
    d.onclick=()=>selectMenu(m.id);
    menuGrid.appendChild(d);
});

function selectMenu(id){
    state.menuId=id;
    const item=menuItems.find(i=>i.id===id);
    document.getElementById('meat-section')
        .classList.toggle('hidden',!item.reqMeat);
    calculateTotal();
}

function calculateTotal(){
    let t=0;
    if(state.menuId) t+=menuItems.find(i=>i.id===state.menuId).price;
    if(opt-special.checked) t+=10;
    if(opt-kaikhon.checked) t+=10;
    if(opt-kaidao.checked) t+=10;
    total-price.innerText=`${t} ‡∏ø`;
}

['opt-special','opt-kaikhon','opt-kaidao']
.forEach(id=>document.getElementById(id).addEventListener('change',calculateTotal));

document.querySelectorAll('input[name="meat"]').forEach(el=>{
    el.addEventListener('change',e=>state.meat=e.target.value);
});

function submitOrderToLine(){
    const name=document.getElementById('user-name').value.trim();
    const note=document.getElementById('user-note').value.trim();
    const item=menuItems.find(i=>i.id===state.menuId);

    if(!item) return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π');
    if(item.reqMeat && !state.meat) return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå');
    if(!name) return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠');

    // ‚úÖ ‡πÄ‡∏ä‡πá‡∏Å‡∏ã‡πâ‡∏≥‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 10 ‡∏ï‡∏±‡∏ß
    if(name.length>10){
        alert('‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 10 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£');
        return;
    }

    let msg=`‡∏Ñ‡∏∏‡∏ì ${name} ‡∏™‡∏±‡πà‡∏á ${item.name}`;
    if(state.meat) msg+=` (${state.meat})`;
    msg+=` (${note||'-'})`;

    window.location.href='https://line.me/R/msg/text/?'+encodeURIComponent(msg);
}
</script>

</body>
</html>
