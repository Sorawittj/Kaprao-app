<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏° LINE</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Kanit -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        body { font-family: 'Kanit', sans-serif; background-color: #F3F4F6; }
        
        /* Animation ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π */
        .select-anim { animation: pulse 0.2s ease-in-out; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(0.97); } 100% { transform: scale(1); } }

        /* Style ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (Selected State) */
        .menu-selected {
            background-color: #DCFCE7 !important; /* ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô */
            border-color: #16A34A !important;     /* ‡∏™‡∏µ‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏° */
            box-shadow: 0 4px 6px -1px rgba(22, 163, 74, 0.3);
        }
        
        /* ‡∏ã‡πà‡∏≠‡∏ô Scrollbar ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ */
        .hide-scroll::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="text-gray-700 pb-32">

    <!-- Header -->
    <header class="bg-[#06C755] text-white p-6 rounded-b-[2rem] shadow-lg sticky top-0 z-20">
        <div class="flex justify-between items-center max-w-lg mx-auto">
            <div>
                <h1 class="text-2xl font-bold">üç± ‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤52</h1>
                <p class="text-green-100 text-sm">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</p>
            </div>
            <i class="fab fa-line text-4xl"></i>
        </div>
    </header>

    <div class="max-w-lg mx-auto px-4 mt-6">
        
        <!-- 1. ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π -->
        <h2 class="text-lg font-bold text-gray-700 mb-3 flex items-center gap-2">
            <span class="bg-green-100 text-green-700 px-2 py-1 rounded-md text-sm">STEP 1</span> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π
        </h2>
        
        <div id="menu-grid" class="grid grid-cols-1 gap-3">
            <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
        </div>

        <!-- 2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå (‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà) -->
        <div id="meat-section" class="hidden mt-6 bg-white p-5 rounded-2xl shadow-sm border border-gray-200">
            <h3 class="font-bold text-gray-800 mb-3">ü•© ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå <span class="text-red-500">*</span></h3>
            <div class="grid grid-cols-3 gap-3">
                <label class="cursor-pointer relative">
                    <input type="radio" name="meat" value="‡∏™‡∏±‡∏ô‡∏Ñ‡∏≠" class="peer sr-only">
                    <div class="border-2 border-gray-200 rounded-xl py-3 text-center font-medium transition-all hover:bg-gray-50 peer-checked:bg-green-500 peer-checked:text-white peer-checked:border-green-500 peer-checked:shadow-md">
                        ‡∏™‡∏±‡∏ô‡∏Ñ‡∏≠
                    </div>
                </label>
                <label class="cursor-pointer relative">
                    <input type="radio" name="meat" value="‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö" class="peer sr-only">
                    <div class="border-2 border-gray-200 rounded-xl py-3 text-center font-medium transition-all hover:bg-gray-50 peer-checked:bg-green-500 peer-checked:text-white peer-checked:border-green-500 peer-checked:shadow-md">
                        ‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö
                    </div>
                </label>
                <label class="cursor-pointer relative">
                    <input type="radio" name="meat" value="‡∏´‡∏°‡∏π‡πÄ‡∏î‡πâ‡∏á" class="peer sr-only">
                    <div class="border-2 border-gray-200 rounded-xl py-3 text-center font-medium transition-all hover:bg-gray-50 peer-checked:bg-green-500 peer-checked:text-white peer-checked:border-green-500 peer-checked:shadow-md">
                        ‡∏´‡∏°‡∏π‡πÄ‡∏î‡πâ‡∏á
                    </div>
                </label>
            </div>
        </div>

        <!-- 3. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (Add-ons) -->
        <div class="mt-8">
            <h2 class="text-lg font-bold text-gray-700 mb-3 flex items-center gap-2">
                <span class="bg-yellow-100 text-yellow-700 px-2 py-1 rounded-md text-sm">STEP 2</span> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
            </h2>
            <div class="space-y-3">
                <!-- ‡∏û‡∏¥‡πÄ‡∏®‡∏© -->
                <label class="flex items-center justify-between bg-white p-3 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-gray-50 transition-colors">
                    <div class="flex items-center gap-3">
                        <input type="checkbox" id="opt-special" class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                        <span class="font-medium">üíé ‡∏û‡∏¥‡πÄ‡∏®‡∏©</span>
                    </div>
                    <span class="text-green-600 font-bold text-sm">+10.-</span>
                </label>

                <!-- ‡πÑ‡∏Ç‡πà‡∏ï‡πà‡∏≤‡∏á‡πÜ -->
                <div class="grid grid-cols-2 gap-3">
                    <label class="cursor-pointer relative group">
                        <input type="checkbox" id="opt-kaikhon" class="peer sr-only">
                        <div class="bg-white border-2 border-gray-200 p-3 rounded-xl flex flex-col items-center gap-1 transition-all peer-checked:border-yellow-400 peer-checked:bg-yellow-50">
                            <span class="text-2xl">üç≥</span>
                            <span class="font-medium text-sm text-gray-700">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏Ç‡πà‡∏Ç‡πâ‡∏ô</span>
                            <span class="text-xs font-bold text-green-600">+10.-</span>
                            <!-- ‡∏ï‡∏¥‡πä‡∏Å‡∏ñ‡∏π‡∏Å‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô -->
                            <i class="fas fa-check-circle text-yellow-500 absolute top-2 right-2 opacity-0 peer-checked:opacity-100 transition-opacity"></i>
                        </div>
                    </label>

                    <label class="cursor-pointer relative group">
                        <input type="checkbox" id="opt-kaidao" class="peer sr-only">
                        <div class="bg-white border-2 border-gray-200 p-3 rounded-xl flex flex-col items-center gap-1 transition-all peer-checked:border-yellow-400 peer-checked:bg-yellow-50">
                            <span class="text-2xl">ü•ö</span>
                            <span class="font-medium text-sm text-gray-700">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏Ç‡πà‡∏î‡∏≤‡∏ß</span>
                            <span class="text-xs font-bold text-green-600">+10.-</span>
                            <i class="fas fa-check-circle text-yellow-500 absolute top-2 right-2 opacity-0 peer-checked:opacity-100 transition-opacity"></i>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- 4. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á -->
        <div class="mt-8 mb-4">
             <h2 class="text-lg font-bold text-gray-700 mb-3 flex items-center gap-2">
                <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded-md text-sm">STEP 3</span> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á
            </h2>
            <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-200 space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-600 mb-1">‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì <span class="text-red-500">*</span></label>
                    <input type="text" id="user-name" class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 outline-none focus:ring-2 focus:ring-green-400 transition-all" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏µ‡πà‡∏à‡∏≠‡∏¢, ‡∏ô‡πâ‡∏≠‡∏á‡∏ô‡∏ô‡∏ó‡πå">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-600 mb-1">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
                    <input type="text" id="user-note" class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 outline-none focus:ring-2 focus:ring-green-400 transition-all" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏°‡πà‡πÄ‡∏ú‡πá‡∏î, ‡∏Ç‡πâ‡∏≤‡∏ß‡∏ô‡πâ‡∏≠‡∏¢">
                </div>
            </div>
        </div>
    </div>

    <!-- Sticky Footer -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-30 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]">
        <div class="max-w-lg mx-auto flex gap-4 items-center">
            <div class="flex-1">
                <p class="text-xs text-gray-500">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°</p>
                <p class="text-2xl font-bold text-green-600 leading-none" id="total-price">0 ‡∏ø</p>
            </div>
            <button onclick="submitOrderToLine()" id="btn-submit" class="flex-[2] bg-[#06C755] hover:bg-[#05b64d] text-white font-bold text-lg py-3 px-6 rounded-xl shadow-lg transition-transform active:scale-95 flex justify-center items-center gap-2">
                <span>‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ LINE</span>
                <i class="fab fa-line text-2xl"></i>
            </button>
        </div>
    </div>

    <script>
        // --- DATA ---
        const menuItems = [
            { id: 1, name: "‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏ß‡∏∏‡πâ‡∏ô‡πÄ‡∏™‡πâ‡∏ô", price: 55, icon: "üçù", reqMeat: true },
            { id: 2, name: "‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏´‡∏ô‡πà‡∏≠‡πÑ‡∏°‡πâ", price: 55, icon: "üéç", reqMeat: true },
            { id: 3, name: "‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö", price: 50, icon: "üê∑", reqMeat: false },
            { id: 4, name: "‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏´‡∏°‡∏π‡πÄ‡∏î‡πâ‡∏á", price: 50, icon: "ü•ì", reqMeat: false },
            { id: 5, name: "‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏™‡∏±‡∏ô‡∏Ñ‡∏≠", price: 50, icon: "ü•©", reqMeat: false },
            { id: 6, name: "‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡πÑ‡∏Ç‡πà‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏ß‡∏°‡πâ‡∏≤", price: 60, icon: "ü•ö", reqMeat: false },
            { id: 7, name: "‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡πÄ‡∏ó‡∏µ‡∏¢‡∏°", price: 50, icon: "üßÑ", reqMeat: false },
            { id: 8, name: "‡∏™‡∏±‡∏ô‡∏Ñ‡∏≠‡∏Å‡∏£‡∏∞‡πÄ‡∏ó‡∏µ‡∏¢‡∏°", price: 50, icon: "üçñ", reqMeat: false },
            { id: 9, name: "‡∏´‡∏°‡∏π‡πÄ‡∏î‡πâ‡∏á‡∏Å‡∏£‡∏∞‡πÄ‡∏ó‡∏µ‡∏¢‡∏°", price: 50, icon: "üçò", reqMeat: false },
            { id: 10, name: "‡∏°‡∏≤‡∏°‡πà‡∏≤‡∏ú‡∏±‡∏î‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏´‡∏≠‡∏¢‡∏•‡∏≤‡∏¢", price: 50, icon: "üçú", reqMeat: true },
            { id: 11, name: "‡∏Ç‡πâ‡∏≤‡∏ß‡πÑ‡∏Ç‡πà‡∏Ç‡πâ‡∏ô‡∏ô‡πâ‡∏≥‡∏û‡∏£‡∏¥‡∏Å‡πÄ‡∏ú‡∏≤", price: 40, icon: "üå∂Ô∏è", reqMeat: false, desc: "‡πÑ‡∏Ç‡πà 2 ‡∏ü‡∏≠‡∏á" },
            { id: 12, name: "‡∏Ç‡πâ‡∏≤‡∏ß‡πÑ‡∏Ç‡πà‡∏Ç‡πâ‡∏ô", price: 40, icon: "üçö", reqMeat: false, desc: "‡πÑ‡∏Ç‡πà 2 ‡∏ü‡∏≠‡∏á" },
        ];

        let state = { menuId: null, meat: null };

        // --- RENDER MENU ---
        const menuGrid = document.getElementById('menu-grid');
        
        menuItems.forEach(item => {
            const card = document.createElement('div');
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á HTML ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÄ‡∏°‡∏ô‡∏π
            // ‡πÄ‡∏û‡∏¥‡πà‡∏° id="menu-card-{id}" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ
            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô check-icon (‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢ class hidden)
            card.id = `menu-card-${item.id}`;
            card.className = `menu-item relative flex items-center justify-between p-4 bg-white rounded-xl border-2 border-transparent shadow-sm cursor-pointer transition-all active:scale-[0.98] select-none hover:shadow-md`;
            card.onclick = () => selectMenu(item.id);

            card.innerHTML = `
                <div class="flex items-center gap-4">
                    <div class="text-3xl bg-gray-100 p-2 rounded-lg transition-colors group-hover:bg-white">${item.icon}</div>
                    <div>
                        <h3 class="font-bold text-gray-800 text-md leading-tight">${item.name}</h3>
                        ${item.reqMeat ? '<span class="text-[10px] text-green-600 bg-green-50 px-2 py-0.5 rounded-full border border-green-100">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏π‡πÑ‡∏î‡πâ</span>' : ''}
                        ${item.desc ? `<span class="text-[10px] text-gray-400 block">${item.desc}</span>` : ''}
                    </div>
                </div>
                <div class="flex flex-col items-end">
                    <div class="text-lg font-bold text-green-600">${item.price}.-</div>
                    <!-- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏ï‡∏¥‡πä‡∏Å‡∏ñ‡∏π‡∏Å (‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å) -->
                    <div class="check-icon hidden text-green-600 mt-1">
                        <i class="fas fa-check-circle text-xl"></i>
                    </div>
                </div>
                <!-- Border Effect overlay -->
                <div class="absolute inset-0 rounded-xl border-2 border-transparent pointer-events-none transition-colors" id="border-${item.id}"></div>
            `;
            menuGrid.appendChild(card);
        });

        // --- FUNCTIONS ---
        function selectMenu(id) {
            state.menuId = id;

            // 1. Loop ‡∏•‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏Å‡πà‡∏≤ ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡∏°‡πà
            menuItems.forEach(item => {
                const el = document.getElementById(`menu-card-${item.id}`);
                const checkIcon = el.querySelector('.check-icon');
                
                if (item.id === id) {
                    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                    el.classList.add('menu-selected', 'select-anim'); // ‡πÉ‡∏™‡πà‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß + ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡πà‡∏ô
                    checkIcon.classList.remove('hidden');           // ‡πÇ‡∏ä‡∏ß‡πå‡∏ï‡∏¥‡πä‡∏Å‡∏ñ‡∏π‡∏Å
                } else {
                    // ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                    el.classList.remove('menu-selected', 'select-anim');
                    checkIcon.classList.add('hidden');
                }
            });

            // 2. Logic ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå
            const item = menuItems.find(i => i.id === id);
            const meatSection = document.getElementById('meat-section');
            
            if (item.reqMeat) {
                meatSection.classList.remove('hidden');
                // Reset meat selection
                document.querySelectorAll('input[name="meat"]').forEach(el => el.checked = false);
                state.meat = null;
                // Auto scroll ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏π
                setTimeout(() => {
                    meatSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            } else {
                meatSection.classList.add('hidden');
                state.meat = null;
            }

            calculateTotal();
        }

        function calculateTotal() {
            let total = 0;
            if (state.menuId) total += menuItems.find(i => i.id === state.menuId).price;
            if (document.getElementById('opt-special').checked) total += 10;
            if (document.getElementById('opt-kaikhon').checked) total += 10;
            if (document.getElementById('opt-kaidao').checked) total += 10;

            const priceEl = document.getElementById('total-price');
            priceEl.innerText = `${total} ‡∏ø`;
        }

        // --- EVENT LISTENERS ---
        ['opt-special', 'opt-kaikhon', 'opt-kaidao'].forEach(id => {
            document.getElementById(id).addEventListener('change', calculateTotal);
        });
        document.querySelectorAll('input[name="meat"]').forEach(el => {
            el.addEventListener('change', (e) => state.meat = e.target.value);
        });

        // --- SUBMIT ---
        function submitOrderToLine() {
            const name = document.getElementById('user-name').value.trim();
            const noteInput = document.getElementById('user-note').value.trim();
            const item = menuItems.find(i => i.id === state.menuId);

            if (!item) return alert('‚ùó ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏à‡∏¥‡πâ‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö');
            if (item.reqMeat && !state.meat) {
                alert('‚ùó ‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö (‡∏™‡∏±‡∏ô‡∏Ñ‡∏≠/‡∏´‡∏°‡∏π‡∏™‡∏±‡∏ö/‡∏´‡∏°‡∏π‡πÄ‡∏î‡πâ‡∏á)');
                return document.getElementById('meat-section').scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            if (!name) {
                alert('‚ùó ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö');
                return document.getElementById('user-name').focus();
            }

            // Construct Message
            let fullMenuName = item.name;
            if (state.meat) fullMenuName += ` (${state.meat})`;

            let options = [];
            if(document.getElementById('opt-special').checked) options.push("‡∏û‡∏¥‡πÄ‡∏®‡∏©");
            if(document.getElementById('opt-kaikhon').checked) options.push("‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏Ç‡πà‡∏Ç‡πâ‡∏ô");
            if(document.getElementById('opt-kaidao').checked) options.push("‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏Ç‡πà‡∏î‡∏≤‡∏ß");
            
            if(options.length > 0) fullMenuName += ` + ${options.join(" + ")}`;

            const finalNote = noteInput ? noteInput : '-';
            const message = `‡∏Ñ‡∏∏‡∏ì ${name} ‡∏™‡∏±‡πà‡∏á ${fullMenuName} (${finalNote})`;

            // Animation Loading
            const btn = document.getElementById('btn-submit');
            const originalHtml = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î LINE...';
            btn.classList.add('opacity-75');

            setTimeout(() => {
                window.location.href = 'https://line.me/R/msg/text/?' + encodeURIComponent(message);
                
                // Restore button state
                setTimeout(() => {
                    btn.innerHTML = originalHtml;
                    btn.classList.remove('opacity-75');
                }, 2000);
            }, 800);
        }
    </script>
</body>
</html>
